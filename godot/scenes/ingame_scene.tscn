[gd_scene load_steps=18 format=3 uid="uid://cik30de5gaaah"]

[ext_resource type="Script" uid="uid://cfl4c4qq5x0jt" path="res://scenes/ingame_scene.gd" id="1_objyc"]
[ext_resource type="PackedScene" uid="uid://bkk87o2ooo6at" path="res://ui/overlays/fade_overlay.tscn" id="1_y6ebv"]
[ext_resource type="PackedScene" uid="uid://jyv4g54adkmo" path="res://ui/overlays/pause_overlay.tscn" id="3_8o178"]
[ext_resource type="Environment" uid="uid://dcqc2mpy0qkyy" path="res://vfx/default_environment.tres" id="4_etwux"]
[ext_resource type="Script" uid="uid://nfe45hfgghg0" path="res://code/player.gd" id="5_1sh3m"]
[ext_resource type="PackedScene" uid="uid://5xpof3rkouys" path="res://characters/blox.tscn" id="5_etwux"]
[ext_resource type="Script" uid="uid://bw5kmvu7nlxnm" path="res://code/level.gd" id="5_q7kwb"]
[ext_resource type="PackedScene" uid="uid://cxd84i4g6yp12" path="res://savegame/tiles/wall.tscn" id="6_5jhce"]
[ext_resource type="FontFile" uid="uid://le2vdo2626vw" path="res://fonts/Montserrat-Medium.ttf" id="6_iid22"]
[ext_resource type="PackedScene" uid="uid://cpwfyp0ltuwm0" path="res://models/kenney.nl/animal-dog.glb" id="7_th7mp"]
[ext_resource type="PackedScene" uid="uid://1247skxw88ik" path="res://characters/blitty.tscn" id="9_etwux"]

[sub_resource type="CameraAttributesPhysical" id="CameraAttributesPhysical_1sh3m"]

[sub_resource type="LabelSettings" id="LabelSettings_2vs8u"]
font = ExtResource("6_iid22")
outline_size = 2
outline_color = Color(0, 0, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1sh3m"]
emission_enabled = true
emission = Color(1, 1, 1, 1)
emission_energy_multiplier = 3.0
disable_receive_shadows = true

[sub_resource type="SphereMesh" id="SphereMesh_1sh3m"]
material = SubResource("StandardMaterial3D_1sh3m")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_etwux"]
albedo_color = Color(0.324593, 0.624427, 0.723734, 1)
metallic = 0.25
roughness = 0.5

[sub_resource type="PlaneMesh" id="PlaneMesh_1sh3m"]
material = SubResource("StandardMaterial3D_etwux")
size = Vector2(100, 100)

[node name="IngameScene" type="Node3D"]
script = ExtResource("1_objyc")

[node name="UI" type="CanvasLayer" parent="."]

[node name="FadeOverlay" parent="UI" instance=ExtResource("1_y6ebv")]
unique_name_in_owner = true
visible = false

[node name="PauseOverlay" parent="UI" instance=ExtResource("3_8o178")]
unique_name_in_owner = true
process_mode = 2
visible = false

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.925546, -0.293621, 0.239063, 7.52252e-09, 0.63138, 0.775473, -0.378635, -0.717736, 0.584371, 3.60724, 6.9615, 0.900234)
environment = ExtResource("4_etwux")
attributes = SubResource("CameraAttributesPhysical_1sh3m")
size = 7.0

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, -1.41714e-08, -7.05838e-17, 1.41714e-08, 1, -3.97738e-09, 0, 3.97738e-09, 1, 4, 6, -3)
light_energy = 0.3
shadow_opacity = 0.8
shadow_blur = 3.0
omni_range = 50.0
omni_attenuation = 0.5

[node name="Fill Light" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.94582, 0.281101, 0.162505, 0.284887, 0.958561, -1.4185e-07, -0.155771, 0.0462953, -0.986708, -5.59737, -1.51598, -2.48465)
light_color = Color(6.73831e-06, 0.932929, 0.932929, 1)
light_energy = 0.25

[node name="Key Light" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.66568, -0.440507, 0.602348, -0.430059, 0.433197, 0.792079, -0.609851, -0.786317, 0.0989269, 6.51529, 5.43031, 5.73197)
light_color = Color(1, 1, 0.921569, 1)
light_energy = 0.5
shadow_enabled = true
shadow_opacity = 0.7
directional_shadow_split_1 = 0.05
directional_shadow_split_2 = 0.1
directional_shadow_split_3 = 0.3
directional_shadow_blend_splits = true

[node name="Level" type="Node3D" parent="."]
unique_name_in_owner = true
script = ExtResource("5_q7kwb")

[node name="HUD" type="CanvasLayer" parent="Level"]

[node name="Cutscene" type="Label" parent="Level/HUD"]
unique_name_in_owner = true
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -11.5
offset_right = 20.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
text = "Hello Kitty!"
label_settings = SubResource("LabelSettings_2vs8u")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Blox" parent="Level" instance=ExtResource("5_etwux")]
unique_name_in_owner = true
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 2, 0, -3)
script = ExtResource("5_1sh3m")

[node name="Label3D" type="Label3D" parent="Level/Blox"]
transform = Transform3D(0.974, 0, 0.226549, 0, 1, 0, -0.226549, 0, 0.974, 0, 2, 0)
text = "..."

[node name="Blitty" parent="Level" instance=ExtResource("9_etwux")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -8)

[node name="wall" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -3)

[node name="wall16" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -2)

[node name="wall17" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -2)

[node name="wall2" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -4)

[node name="wall3" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -5)

[node name="wall4" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -6)

[node name="wall5" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -7)

[node name="wall6" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -8)

[node name="wall7" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -9)

[node name="wall18" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -9)

[node name="wall8" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -4)

[node name="wall15" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -2)

[node name="wall9" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, -3)

[node name="wall19" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, -2)

[node name="wall20" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, -4)

[node name="wall10" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -5)

[node name="wall11" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -6)

[node name="wall12" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -7)

[node name="wall13" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -8)

[node name="wall14" parent="Level" instance=ExtResource("6_5jhce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -9)

[node name="animal-dog2" parent="." instance=ExtResource("7_th7mp")]
transform = Transform3D(0.5, 0, 0.866025, 0, 1, 0, -0.866025, 0, 0.5, 2.78787, 0.2, -7.50503)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, -8)
cast_shadow = 0
mesh = SubResource("SphereMesh_1sh3m")

[node name="ground" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_1sh3m")
